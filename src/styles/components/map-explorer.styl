mapControlsWidth = 90%
toggleButtonWidth = 5%
slideMarginRight = -85%

@keyframes slideLeft {
  from { margin-right: slideMarginRight; }
  to   { margin-right: 0% }
}

@keyframes slideRight {
  from { margin-right: 0%; }
  to   { margin-right: slideMarginRight; }
}

.map-explorer
  background: #9ab
  width: 100%
  overflow: hidden
  display: flex
  flex-direction: row-reverse
  padding-left: 0
  
  .hidden
    display: none
    
  .message
    margin: 0.5em
    padding: 0.5em
    border-radius: 0.5em
    color: #333
    text-shadow: 1px 1px #fff
    background: #ed6
  
  .map-visuals
    flex: 0 0 auto
    width: (100% - toggleButtonWidth)
    height: 100%
    
    #mapVisuals
      width: 100%
      height: 100%
    
    .legend
      padding: 0.2em 0.5em
      background: rgba(255, 255, 255, 0.8)
      border-radius: 0.2em
  
  &.expand
    .map-visuals
      animation: slideRight 0.5s
      margin-right: slideMarginRight
    
  &.collapse
    .map-visuals
      animation: slideLeft 0.2s
  
  .map-controls
    background: white
    flex: 0 0 auto
    width: mapControlsWidth
    height: 100%
    overflow: hidden
    min-height: 20px
    overflow: hidden
    display: flex
    flex-direction: row-reverse
    
    .toggle-selectors
      flex: 0 0 (toggleButtonWidth * 100% / mapControlsWidth)
      overflow: hidden
      
      span
        display: flex
        justify-content: center
        transform: rotate(-90deg)
      
    > div
      flex: 1 1 auto
      flex-direction: column
      display: flex
      height: 100%
      overflow: hidden
        
      .selectors-list
        overflow: auto
        background: white
        flex: 1 1 auto
      
      .controlPanel
        padding: 0.5em
        text-align: center
        flex: 0 0 auto
        background: green

  .selector-panel
    margin: 0.5em
    border: 1px solid #eee
    border-radius: 1em
    padding: 0.5em
    
    .input-subpanel
      display: block
    
      &.not-selected
        color: #ccc
        
        .input-row
          display: none

      h1
        cursor: pointer
        margin: 0
        padding: 0.5em 0
        font-size: 1.2em
        font-weight: bold
        text-align: center
        
        &:hover
          background: #69b

      .input-row
        padding: 0.5em 0
        border-bottom: 1px solid #eee

        &:last-child
          border-bottom: none

        > label
          display: block

        input[type=text],
        textarea
          display: block
          width: 100%
          border: 1px solid #ccc

        textarea
          height: 20em

        ul
          list-style: none
          margin: 0
          padding: 0
          position: relative
          overflow: hidden

          li
            margin: 0
            padding: 0.1em 1em
            float: left
            width: 25%
            display: flex
            flex-direction: row
            
            input
              flex: 0 0 auto
              margin-right: 0.5em
              
            label
              flex: 1 1 auto
              cursor: pointer
          
              &:hover
                background: #69b
        
        .range-input
          display: flex
          
          input
            display: block
            flex: 1 1 auto
            width: 20%
            margin: 0 0.5em
            text-align: center
            
          span
            flex: 0 0 auto

    .action-subpanel
      text-align: center
