@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to   { opacity: 0; }
}

.map-explorer-ver3
  width: 100%
  overflow: hidden
  display: flex
  position: relative
  
  .map-visuals
    flex: 0 0 auto
    width: 100%
    height: 100%
    
    #mapVisuals
      width: 100%
      height: 100%
    
    .legend
      padding: 0.2em 0.5em
      background: rgba(255, 255, 255, 0.8)
      border-radius: 0.2em

  .map-controls
    background: #fff
    position: absolute
    right: 0
    top: 0
    width: 32em
    max-width: 100%
    max-height: 100%
    display: flex
    flex-direction: column
    z-index: 1000
    box-shadow: 0.5em 0.5em 1em #333
    border-bottom-left-radius: 1em
    
    .summary
      flex: 0 0 auto
      border: 1px solid #f93
      border-radius: 1em
      margin: 0.5em
      padding: 0.5em
      text-align: center
    
    .actions-panel
      flex: 0 0 auto
      margin: 0 0.5em 0.5em 0.5em
      text-align: center
      
    button
      display: inline-block
      margin: 0 0.25em 0.25em 0.25em
      
    .options-panel
      flex: 1 1 auto
      overflow-y: scroll
      margin: 0 0.5em 0.5em 0.5em
      border: 1px solid #999
      height: 25em
      
      &.expanded
        display: block
        animation: fadeIn 1s
        
      &.collapsed
        display: none
        animation: fadeOut 1s
      
    .filter-group
      margin: 0.5em
      //padding: 0.5em
      //border: 1px solid #999
      
      .filter-name
        display: flex
        align-items: center
        
        button
          flex: 0 0 auto
        
        .mini-summary
          flex 1 1 auto
          text-align: right
          color: #999
          font-style: italic
          
          &.highlighted
            color: #f93
        
      .filter-values
        margin: 0.5em 0 1em 0
        padding: 0.5em
        box-shadow: 0 0.2em 0.5em #999
        
        &.expanded
          display: block
          animation: fadeIn 1s
          
          
        &.collapsed
          display: none
          animation: fadeOut 1s
        
        &.range-type
          display: flex
          justify-content: center
          
          span
            flex: 0 0 auto
            text-align: center
            margin: 0 0.5em
            
          input
            display: inline-block
            flex: 0 0 auto
            width: 11em
            text-align: center
      
      label
        display: block
        cursor: pointer
        font-weight: normal
        
        input[type=checkbox]
          visibility: visible
          margin: 0 0.5em
        
        &.selected
          background: #f93
          color: #fff
          
        &:hover
          background: #ccc
